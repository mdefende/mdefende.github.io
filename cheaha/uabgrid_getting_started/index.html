
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.6">
    
    
      
        <title>Getting Started - UAB Research Computing</title>
      
    
    

      <link rel="stylesheet" href="../../assets/stylesheets/main.cd566b2a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
<link rel="stylesheet" href="../../css/lightgallery.min.css" />

    

<script src="../../js/lightgallery.min.js"></script>

    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="UAB Research Computing" class="md-header__button md-logo" aria-label="UAB Research Computing" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UAB Research Computing
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/uabrc/researcher-facing-MkDocs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="UAB Research Computing" class="md-nav__button md-logo" aria-label="UAB Research Computing" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    UAB Research Computing
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/uabrc/researcher-facing-MkDocs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Welcome
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Welcome" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Welcome
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../welcome/welcome/" class="md-nav__link">
        Welcome
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../welcome/rc_days/" class="md-nav__link">
        UAB Research Computing Day
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Account Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Account Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Account Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/cheaha_account/" class="md-nav__link">
        Cheaha Account Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          External Collaborators (XIAS)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="External Collaborators (XIAS)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          External Collaborators (XIAS)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/xias_users/" class="md-nav__link">
        Managing UAB XIAS Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/xias_sites/" class="md-nav__link">
        Creating a UAB XIAS Project/Site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/xias_guest/" class="md-nav__link">
        Guest Instructions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/gitlab_researcher/" class="md-nav__link">
        UAB GitLab Overview and Registration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Data Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Data Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Long Term Storage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Long Term Storage" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Long Term Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/LTS/lts/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/LTS/sharing/" class="md-nav__link">
        Sharing Buckets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          File Transfer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="File Transfer" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          File Transfer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/transfer/globus/" class="md-nav__link">
        Globus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/transfer/rclone/" class="md-nav__link">
        RClone
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/transfer/filezilla/" class="md-nav__link">
        FileZilla
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Environment Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Environment Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Environment Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../environment_management/anaconda_environments/" class="md-nav__link">
        Anaconda
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Cheaha User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cheaha User Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Cheaha User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/" class="md-nav__link">
        Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Open OnDemand
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Open OnDemand" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Open OnDemand
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../open_ondemand/ood_main/" class="md-nav__link">
        Homepage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../open_ondemand/ood_interactive/" class="md-nav__link">
        Interactive Apps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../open_ondemand/ood_files/" class="md-nav__link">
        File Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../open_ondemand/ood_jobs/" class="md-nav__link">
        Job Viewer and Composer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_4">
          SLURM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SLURM" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          SLURM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/sbatch_usage/" class="md-nav__link">
        Submitting Jobs with Slurm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/gpu/" class="md-nav__link">
        GPUs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/job_management/" class="md-nav__link">
        Managing Jobs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lmod/" class="md-nav__link">
        Modules and Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../conda/" class="md-nav__link">
        Anaconda on Cheaha
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          UAB Cloud
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="UAB Cloud" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          UAB Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/network_setup_basic/" class="md-nav__link">
        Network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/security_setup_basic/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/instance_setup_basic/" class="md-nav__link">
        Instance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/volume_setup_basic/" class="md-nav__link">
        Volume
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/cloud_remote_access/" class="md-nav__link">
        Remote Access to Instances
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/installing_software/" class="md-nav__link">
        Installing Software on Instances
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/snapshots/" class="md-nav__link">
        Working with Snapshots
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Education
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Education" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Education
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../education/courses/" class="md-nav__link">
        Courses
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Help
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Help" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Help
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/support/" class="md-nav__link">
        How to Request Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/faq/" class="md-nav__link">
        Frequently Asked Questions (FAQ)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#access-cluster-account-request" class="md-nav__link">
    Access (Cluster Account Request)
  </a>
  
    <nav class="md-nav" aria-label="Access (Cluster Account Request)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#external-collaborator" class="md-nav__link">
    External Collaborator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#login" class="md-nav__link">
    Login
  </a>
  
    <nav class="md-nav" aria-label="Login">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-configuration" class="md-nav__link">
    Client Configuration
  </a>
  
    <nav class="md-nav" aria-label="Client Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac-os-x" class="md-nav__link">
    Mac OS X
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    Windows
  </a>
  
    <nav class="md-nav" aria-label="Windows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mobaxterm" class="md-nav__link">
    MobaXterm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#putty" class="md-nav__link">
    PuTTY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-secure-shell-client" class="md-nav__link">
    SSH Secure Shell Client
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-in-to-cheaha" class="md-nav__link">
    Logging in to Cheaha
  </a>
  
    <nav class="md-nav" aria-label="Logging in to Cheaha">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users-without-a-blazerid-collaborators-from-other-universities" class="md-nav__link">
    Users without a blazerid (collaborators from other universities)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware" class="md-nav__link">
    Hardware
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cluster-software" class="md-nav__link">
    Cluster Software
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#queuing-system" class="md-nav__link">
    Queuing System
  </a>
  
    <nav class="md-nav" aria-label="Queuing System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-a-queuing-system" class="md-nav__link">
    What is a queuing system?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typical-workflow" class="md-nav__link">
    Typical Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-requests" class="md-nav__link">
    Resource Requests
  </a>
  
    <nav class="md-nav" aria-label="Resource Requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mandatory-resource-requests" class="md-nav__link">
    Mandatory Resource Requests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-common-resource-requests" class="md-nav__link">
    Other Common Resource Requests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submitting-jobs" class="md-nav__link">
    Submitting Jobs
  </a>
  
    <nav class="md-nav" aria-label="Submitting Jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#job-script-file-format" class="md-nav__link">
    Job Script File Format
  </a>
  
    <nav class="md-nav" aria-label="Job Script File Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#converting-files-to-unix-format" class="md-nav__link">
    Converting Files to UNIX Format
  </a>
  
    <nav class="md-nav" aria-label="Converting Files to UNIX Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dos2unix-method" class="md-nav__link">
    Dos2Unix Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternative-windows-text-editors" class="md-nav__link">
    Alternative Windows Text Editors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-batch-job-script" class="md-nav__link">
    Example Batch Job Script
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-resources" class="md-nav__link">
    Interactive Resources
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    Storage
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#privacy" class="md-nav__link">
    Privacy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-and-directory-permissions" class="md-nav__link">
    File and Directory Permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-automatic-backups" class="md-nav__link">
    No Automatic Backups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#home-directories" class="md-nav__link">
    Home directories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scratch" class="md-nav__link">
    Scratch
  </a>
  
    <nav class="md-nav" aria-label="Scratch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network-scratch" class="md-nav__link">
    Network Scratch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-scratch" class="md-nav__link">
    Local Scratch
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-storage" class="md-nav__link">
    Project Storage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uploading-data" class="md-nav__link">
    Uploading Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-modules" class="md-nav__link">
    Environment Modules
  </a>
  
    <nav class="md-nav" aria-label="Environment Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-using-modules-from-a-job-script" class="md-nav__link">
    Error Using Modules from a Job Script
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-job-scripts" class="md-nav__link">
    Sample Job Scripts
  </a>
  
    <nav class="md-nav" aria-label="Sample Job Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hello-world-serial" class="md-nav__link">
    Hello World (serial)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hello-world-parallel-with-mpi" class="md-nav__link">
    Hello World (parallel with MPI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hello-world-serial-revisited" class="md-nav__link">
    Hello World (serial) -- revisited
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gromacs" class="md-nav__link">
    Gromacs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#r-array-job" class="md-nav__link">
    R (array job)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-job-parameterization" class="md-nav__link">
    Array Job Parameterization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-job" class="md-nav__link">
    GPU JOB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-job-with-mpi" class="md-nav__link">
    GPU Job (with MPI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#singularity-container" class="md-nav__link">
    Singularity Container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installed-software" class="md-nav__link">
    Installed Software
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/uabrc/researcher-facing-MkDocs/edit/master/docs/cheaha/uabgrid_getting_started.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h1>
<p>Cheaha is a cluster computing environment for UAB researchers. Information about the history and future plans for Cheaha is available on the <a href="/Cheaha">Cheaha</a> page.</p>
<h2 id="access-cluster-account-request">Access (Cluster Account Request)<a class="headerlink" href="#access-cluster-account-request" title="Permanent link">&para;</a></h2>
<p>To get started using <a href="https://docs.uabgrid.uab.edu/wiki/Cheaha">Cheaha</a>, simply visit our <a href="https://docs.uabgrid.uab.edu/wiki/Open_OnDemand">Open OnDemand</a> portal at <a href="https://rc.uab.edu/">https://rc.uab.edu</a>. This is the primary entry point for Cheaha and provides access to all cluster services directly from your web browser, including graphical desktops, Jupyter Notebooks, and even the traditional command-line.</p>
<p>If you don't already have an account, you will be prompted to create one the first time you log into the portal. If you are creating an account, please share some of your interests in using Cheaha as this help us understand the science interests of our users.</p>
<p><strong>Please note</strong>: Usage of Cheaha is governed by <a href="https://www.uab.edu/policies/content/Pages/UAB-IT-POL-0000004.aspx">UAB's Acceptable Use Policy (AUP)</a> for computer resources.</p>
<h3 id="external-collaborator">External Collaborator<a class="headerlink" href="#external-collaborator" title="Permanent link">&para;</a></h3>
<p>To request an account for an external collaborator, please follow the steps <a href="/Collaborator_Account">here.</a></p>
<h2 id="login">Login<a class="headerlink" href="#login" title="Permanent link">&para;</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>Once your account has been created, you'll receive an email containing your user ID, generally your Blazer ID. You can <a href="https://rc.uab.edu/">log into Cheaha via your web browser</a> using the new web-based HPC experience.</p>
<p>You can also log into Cheaha via a traditional SSH client. Most UAB Windows workstations already have an SSH client installed, possibly named <strong>SSH Secure Shell Client</strong> or <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTY</a>. Linux and Mac OS X systems should have an SSH client installed by default.</p>
<p>Usage of Cheaha is governed by <a href="https://www.uab.edu/policies/content/Pages/UAB-IT-POL-0000004.aspx">UAB's Acceptable Use Policy (AUP)</a> for computer and network resources.</p>
<h3 id="client-configuration">Client Configuration<a class="headerlink" href="#client-configuration" title="Permanent link">&para;</a></h3>
<p>This section will cover steps to configure Windows, Linux and Mac OS X clients to connect to Cheaha.</p>
<p>The official DNS name of Cheaha's frontend machine is <em>cheaha.rc.uab.edu</em>. If you want to refer to the machine as <em>cheaha</em>, you'll have to either add the "rc.uab.edu" to you computer's DNS search path. On Unix-derived systems (Linux, Mac) you can edit your computers /etc/resolv.conf as follows (you'll need administrator access to edit this file)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>search rc.uab.edu
</code></pre></div>
<p>Or you can customize your SSH configuration to use the short name "cheaha" as a connection name. On systems using OpenSSH you can add the following to your ~/.ssh/config file</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Host cheaha
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a> Hostname cheaha.rc.uab.edu
</code></pre></div>
<h4 id="linux">Linux<a class="headerlink" href="#linux" title="Permanent link">&para;</a></h4>
<p>Linux systems, regardless of the flavor (RedHat, SuSE, Ubuntu, etc...), should already have an SSH client on the system as part of the default install.</p>
<ol>
<li>Start a terminal (on RedHat click Applications -&gt; Accessories -&gt; Terminal, on Ubuntu Ctrl+Alt+T)</li>
<li>At the prompt, enter the following command to connect to Cheaha (<strong>Replace blazerid with your Cheaha userid</strong>)</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>ssh blazerid@cheaha.rc.uab.edu
</code></pre></div>
<h4 id="mac-os-x">Mac OS X<a class="headerlink" href="#mac-os-x" title="Permanent link">&para;</a></h4>
<p>Mac OS X is a Unix operating system (BSD) and has a built in ssh client.</p>
<ol>
<li>Start a terminal (click Finder, type Terminal and double click on Terminal under the Applications category)</li>
<li>At the prompt, enter the following command to connect to Cheaha (<strong>Replace blazerid with your Cheaha userid</strong>)</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>ssh blazerid@cheaha.rc.uab.edu
</code></pre></div>
<h4 id="windows">Windows<a class="headerlink" href="#windows" title="Permanent link">&para;</a></h4>
<p>There are many SSH clients available for Windows, some commercial and some that are free (GPL). This section will cover two clients that are commonly found on UAB Windows systems.</p>
<h5 id="mobaxterm">MobaXterm<a class="headerlink" href="#mobaxterm" title="Permanent link">&para;</a></h5>
<p><a href="http://mobaxterm.mobatek.net/">MobaXterm</a> is a free (also available for a price in a Profession version) suite of SSH tools. Of the Windows clients we've used, MobaXterm is the easiest to use and feature complete. <a href="http://mobaxterm.mobatek.net/features.html">Features</a> include (but not limited to):</p>
<ul>
<li>SSH client (in a handy web browser like tabbed interface)</li>
<li>Embedded Cygwin (which allows Windows users to run many Linux commands like grep, rsync, sed)</li>
<li>Remote file system browser (graphical SFTP)</li>
<li>X11 forwarding for remotely displaying graphical content from Cheaha</li>
<li>Installs without requiring Windows Administrator rights</li>
</ul>
<p>Start MobaXterm and click the Session toolbar button (top left). Click SSH for the session type, enter the following information and click OK. Once finished, double click cheaha.rc.uab.edu in the list of Saved sessions under PuTTY sessions:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Cheaha Settings</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Remote host</strong></td>
<td>cheaha.rc.uab.edu</td>
</tr>
<tr>
<td><strong>Port</strong></td>
<td>22</td>
</tr>
</tbody>
</table>
<h5 id="putty">PuTTY<a class="headerlink" href="#putty" title="Permanent link">&para;</a></h5>
<p><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTY</a> is a free suite of SSH and telnet tools written and maintained by <a href="http://www.pobox.com/~anakin/">Simon Tatham</a>. PuTTY supports SSH, secure FTP (SFTP), and X forwarding (XTERM) among other tools.</p>
<ul>
<li>Start PuTTY (Click START -&gt; All Programs -&gt; PuTTY -&gt; PuTTY). The 'PuTTY Configuration' window will open</li>
<li>Use these settings for each of the clusters that you would like to configure</li>
</ul>
<table>
<thead>
<tr>
<th>Field</th>
<th>Cheaha Settings</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Host Name (or IP address)</strong></td>
<td>cheaha.rc.uab.edu</td>
</tr>
<tr>
<td><strong>Port</strong></td>
<td>22</td>
</tr>
<tr>
<td><strong>Protocol</strong></td>
<td>SSH</td>
</tr>
<tr>
<td><strong>Saved Sessions</strong></td>
<td>cheaha.rc.uab.edu</td>
</tr>
</tbody>
</table>
<ul>
<li>Click <strong>Save</strong> to save the configuration, repeat the previous steps for the other clusters</li>
<li>The next time you start PuTTY, simply double click on the cluster name under the 'Saved Sessions' list</li>
</ul>
<h5 id="ssh-secure-shell-client">SSH Secure Shell Client<a class="headerlink" href="#ssh-secure-shell-client" title="Permanent link">&para;</a></h5>
<p>SSH Secure Shell is a commercial application that is installed on many Windows workstations on campus and can be configured as follows:</p>
<ul>
<li>Start the program (Click START -&gt; All Programs -&gt; SSH Secure Shell -&gt; Secure Shell Client). The 'default - SSH Secure Shell' window will open</li>
<li>Click File -&gt; Profiles -&gt; Add Profile to open the 'Add Profile' window</li>
<li>Type in the name of the cluster (for example: cheaha) in the field and click 'Add to Profiles'</li>
<li>Click File -&gt; Profiles -&gt; Edit Profiles to open the 'Profiles' window</li>
<li>Single click on your new profile name</li>
<li>Use these settings for the clusters</li>
</ul>
<table>
<thead>
<tr>
<th>Field</th>
<th>Cheaha Settings</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Host name</strong></td>
<td>cheaha.rc.uab.edu</td>
</tr>
<tr>
<td><strong>User name</strong></td>
<td>blazerid (insert your blazerid here)</td>
</tr>
<tr>
<td><strong>Port</strong></td>
<td>22</td>
</tr>
<tr>
<td><strong>Protocol</strong></td>
<td>SSH</td>
</tr>
<tr>
<td><strong>Encryption algorithm</strong></td>
<td><Default></td>
</tr>
<tr>
<td><strong>MAC algorithm</strong></td>
<td><Default></td>
</tr>
<tr>
<td><strong>Compression</strong></td>
<td><None></td>
</tr>
<tr>
<td><strong>Terminal answerback</strong></td>
<td>vt100</td>
</tr>
</tbody>
</table>
<ul>
<li>Leave 'Connect through firewall' and 'Request tunnels only' unchecked</li>
<li>Click <strong>OK</strong> to save the configuration, repeat the previous steps for the other clusters</li>
<li>The next time you start SSH Secure Shell, click 'Profiles' and click the cluster name</li>
</ul>
<h3 id="logging-in-to-cheaha">Logging in to Cheaha<a class="headerlink" href="#logging-in-to-cheaha" title="Permanent link">&para;</a></h3>
<p>No matter which client you use to connect to the Cheaha, the first time you connect, the SSH client should display a message asking if you would like to import the hosts public key. Answer <strong>Yes</strong> to this question.</p>
<ul>
<li>
<p>Connect to Cheaha using one of the methods listed above</p>
</li>
<li>
<p>Answer <strong>Yes</strong> to import the cluster's public key</p>
</li>
<li>
<p>Enter your BlazerID password</p>
</li>
<li>
<p>After successfully logging in for the first time, You may see the following message <strong>just press ENTER for the next three prompts, don't type any passphrases!</strong></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>It doesn&#39;t appear that you have set up your ssh key.
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>This process will make the files:
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>     /home/joeuser/.ssh/id_rsa.pub
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>     /home/joeuser/.ssh/id_rsa
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>     /home/joeuser/.ssh/authorized_keys
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>Generating public/private rsa key pair.
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>Enter file in which to save the key (/home/joeuser/.ssh/id_rsa):
</code></pre></div>
<ul>
<li>Enter file in which to save the key (/home/joeuser/.ssh/id_rsa):<strong>Press Enter</strong></li>
<li>Enter passphrase (empty for no passphrase):<strong>Press Enter</strong></li>
<li>Enter same passphrase again:<strong>Press Enter</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>Your identification has been saved <span class="k">in</span> /home/joeuser/.ssh/id_rsa.
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>Your public key has been saved <span class="k">in</span> /home/joeuser/.ssh/id_rsa.pub.
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>The key fingerprint is:
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>f6:xx:xx:xx:xx:dd:9a:79:7b:83:xx:f9:d7:a7:d6:27 joeuser@cheaha.rc.uab.edu
</code></pre></div>
<h4 id="users-without-a-blazerid-collaborators-from-other-universities">Users without a blazerid (collaborators from other universities)<a class="headerlink" href="#users-without-a-blazerid-collaborators-from-other-universities" title="Permanent link">&para;</a></h4>
<ul>
<li>If you were issued a temporary password, enter it (Passwords are CaSE SensitivE!!!) You should see a message similar to this</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>You are required to change your password immediately <span class="o">(</span>password aged<span class="o">)</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>WARNING: Your password has expired.
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>You must change your password now and login again!
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>Changing password <span class="k">for</span> user joeuser.
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>Changing password <span class="k">for</span> joeuser
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="o">(</span>current<span class="o">)</span> UNIX password:
</code></pre></div>
<ul>
<li>(current) UNIX password: <strong>Enter your temporary password at this prompt and press enter</strong></li>
<li>New UNIX password: <strong>Enter your new strong password and press enter</strong></li>
<li>Retype new UNIX password: <strong>Enter your new strong password again and press enter</strong></li>
<li>After you enter your new password for the second time and press enter, the shell may exit automatically. If it doesn't, type exit and press enter</li>
<li>Log in again, this time use your new password</li>
</ul>
<p>Congratulations, you should now have a command prompt and be ready to start <a href="https://docs.uabgrid.uab.edu/wiki/Cheaha_GettingStarted#Example_Batch_Job_Script">submitting jobs</a>!!!</p>
<h2 id="hardware">Hardware<a class="headerlink" href="#hardware" title="Permanent link">&para;</a></h2>
<p>See <a href="/Hardware">Hardware</a> for more information.</p>
<h2 id="cluster-software">Cluster Software<a class="headerlink" href="#cluster-software" title="Permanent link">&para;</a></h2>
<ul>
<li>BrightCM 7.2</li>
<li>CentOS 7.2 x86_64</li>
<li><a href="https://docs.uabgrid.uab.edu/wiki/Slurm">Slurm</a> 15.08</li>
</ul>
<h2 id="queuing-system">Queuing System<a class="headerlink" href="#queuing-system" title="Permanent link">&para;</a></h2>
<p>All work on Cheaha must be submitted to <strong>our queuing system (<a href="https://docs.uabgrid.uab.edu/wiki/Slurm">Slurm</a>)</strong>. A common mistake made by new users is to run 'jobs' on the login node. This section gives a basic overview of what a queuing system is and why we use it.</p>
<h3 id="what-is-a-queuing-system">What is a queuing system?<a class="headerlink" href="#what-is-a-queuing-system" title="Permanent link">&para;</a></h3>
<ul>
<li>Software that gives users fair allocation of the cluster's resources</li>
<li>Schedules jobs based using resource requests (the following are commonly requested resources, there are many more that are available)</li>
<li>Number of processors (often referred to as "slots")</li>
<li>Maximum memory (RAM) required per slot</li>
<li>Maximum run time</li>
<li>Common queuing systems:</li>
<li><strong><a href="https://docs.uabgrid.uab.edu/wiki/Slurm">Slurm</a></strong></li>
<li>Sun Grid Engine (Also know as SGE, OGE, GE)</li>
<li>OpenPBS</li>
<li>Torque</li>
<li>LSF (load sharing facility)</li>
</ul>
<p><a href="http://slurm.schedmd.com/">Slurm</a> is a queue management system and stands for Simple Linux Utility for Resource Management. Slurm was developed at the Lawrence Livermore National Lab and currently runs some of the largest compute clusters in the world. <strong><a href="https://docs.uabgrid.uab.edu/wiki/Slurm">Slurm</a></strong> is now the primary job manager on Cheaha, it replaces SUN Grid Engine ([<a href="https://docs.uabgrid.uab.edu/wiki/Cheaha_GettingStarted_deprecated">SGE</a>]) the job manager used earlier. Instructions of using SLURM and writing SLURM scripts for jobs submission on Cheaha can be found <strong><a href="/Slurm">here</a></strong>.</p>
<h3 id="typical-workflow">Typical Workflow<a class="headerlink" href="#typical-workflow" title="Permanent link">&para;</a></h3>
<ul>
<li>Stage data to $USER_SCRATCH (your scratch directory)</li>
<li>Research how to run your code in "batch" mode. Batch mode typically means the ability to run it from the command line without requiring any interaction from the user.</li>
<li>Identify the appropriate resources needed to run the job. The following are mandatory resource requests for all jobs on Cheaha</li>
<li>Maximum memory (RAM) required per slot</li>
<li>Maximum runtime</li>
<li>Write a job script specifying queuing system parameters, resource requests and commands to run program</li>
<li>Submit script to queuing system (sbatch script.job)</li>
<li>Monitor job (squeue)</li>
<li>Review the results and resubmit as necessary</li>
<li>Clean up the scratch directory by moving or deleting the data off of the cluster</li>
</ul>
<h3 id="resource-requests">Resource Requests<a class="headerlink" href="#resource-requests" title="Permanent link">&para;</a></h3>
<p>Accurate resource requests are extremely important to the health of the over all cluster. In order for Cheaha to operate properly, the queing system must know how much runtime and RAM each job will need.</p>
<h4 id="mandatory-resource-requests">Mandatory Resource Requests<a class="headerlink" href="#mandatory-resource-requests" title="Permanent link">&para;</a></h4>
<ul>
<li>-t, --time=<time></li>
</ul>
<p>Set a limit on the total run time of the job allocation. If the requested time limit exceeds the partition's time limit, the job will be left in a PENDING state (possibly indefinitely).</p>
<ul>
<li>For Array jobs, this represents the maximum run time for each task</li>
<li>
<p>For serial or parallel jobs, this represents the maximum run time for the entire job</p>
</li>
<li>
<p>--mem-per-cpu=<MB></p>
</li>
</ul>
<p>Mimimum memory required per allocated CPU in MegaBytes.</p>
<h4 id="other-common-resource-requests">Other Common Resource Requests<a class="headerlink" href="#other-common-resource-requests" title="Permanent link">&para;</a></h4>
<ul>
<li>-N, --nodes=<minnodes[-maxnodes]></li>
</ul>
<p>Request that a minimum of minnodes nodes be allocated to this job. A maximum node count may also be specified with maxnodes. If only one number is specified, this is used as both the minimum and maximum node count.</p>
<ul>
<li>-n, --ntasks=<number></li>
</ul>
<p>sbatch does not launch tasks, it requests an allocation of resources and submits a batch script. This option advises the Slurm controller that job steps run within the allocation will launch a maximum of number tasks and to provide for sufficient resources. The default is one task per node</p>
<ul>
<li>--mem=<MB></li>
</ul>
<p>Specify the real memory required per node in MegaBytes.</p>
<ul>
<li>-c, --cpus-per-task=<ncpus></li>
</ul>
<p>Advise the Slurm controller that ensuing job steps will require ncpus number of processors per task. Without this option, the controller will just try to allocate one processor per task.</p>
<ul>
<li>-p, --partition=<partition_names></li>
</ul>
<p>Request a specific partition for the resource allocation. Available partitions are: express(max 2 hrs), short(max 12 hrs), medium(max 50 hrs), long(max 150 hrs), sinteractive(0-2 hrs)</p>
<h3 id="submitting-jobs">Submitting Jobs<a class="headerlink" href="#submitting-jobs" title="Permanent link">&para;</a></h3>
<p>Batch Jobs are submitted on Cheaha by using the "sbatch" command. The full manual for sbtach is available by running the following command</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>man sbatch
</code></pre></div>
<h4 id="job-script-file-format">Job Script File Format<a class="headerlink" href="#job-script-file-format" title="Permanent link">&para;</a></h4>
<p>To submit a job to the queuing systems, you will first define your job in a script (a text file) and then submit that script to the queuing system.</p>
<p>The script file needs to be <strong>formatted as a UNIX file</strong>, not a Windows or Mac text file. In geek speak, this means that the end of line (EOL) character should be a line feed (LF) rather than a carriage return line feed (CRLF) for Windows or carriage return (CR) for Mac.</p>
<p>If you submit a job script formatted as a Windows or Mac text file, your job will likely fail with misleading messages, for example that the path specified does not exist.</p>
<p>Windows <strong>Notepad</strong> does not have the ability to save files using the UNIX file format. Do NOT use Notepad to create files intended for use on the clusters. Instead use one of the alternative text editors listed in the following section.</p>
<h5 id="converting-files-to-unix-format">Converting Files to UNIX Format<a class="headerlink" href="#converting-files-to-unix-format" title="Permanent link">&para;</a></h5>
<h6 id="dos2unix-method">Dos2Unix Method<a class="headerlink" href="#dos2unix-method" title="Permanent link">&para;</a></h6>
<p>The lines below that begin with $ are commands, the $ represents the command prompt and should not be typed!</p>
<p>The dos2unix program can be used to convert Windows text files to UNIX files with a simple command. After you have copied the file to your home directory on the cluster, you can identify that the file is a Windows file by executing the following (Windows uses CR LF as the line terminator, where UNIX uses only LF and Mac uses only CR):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>$ file testfile.txt
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>testfile.txt: ASCII text, with CRLF line terminators
</code></pre></div>
<p>Now, convert the file to UNIX</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>$ dos2unix testfile.txt
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>dos2unix: converting file testfile.txt to UNIX format ...
</code></pre></div>
<p>Verify the conversion using the file command</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>$ file testfile.txt
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>testfile.txt: ASCII text
</code></pre></div>
<h6 id="alternative-windows-text-editors">Alternative Windows Text Editors<a class="headerlink" href="#alternative-windows-text-editors" title="Permanent link">&para;</a></h6>
<p>There are many good text editors available for Windows that have the capability to save files using the UNIX file format. Here are a few:</p>
<ul>
<li>[<a href="http://www.geany.org/">Geany</a>] is an excellent free text editor for Windows and Linux that supports Windows, UNIX and Mac file formats, syntax highlighting and many programming features. To convert from Windows to UNIX click <strong>Document</strong> click <strong>Set Line Endings</strong> and then <strong>Convert and Set to LF (Unix)</strong></li>
<li>[<a href="http://notepad-plus.sourceforge.net/uk/site.htm">Notepad++</a>] is a great free Windows text editor that supports Windows, UNIX and Mac file formats, syntax highlighting and many programming features. To convert from Windows to UNIX click <strong>Format</strong> and then click <strong>Convert to UNIX Format</strong></li>
<li>[<a href="http://www.textpad.com/">TextPad</a>] is another excellent Windows text editor. TextPad is not free, however.</li>
</ul>
<h4 id="example-batch-job-script">Example Batch Job Script<a class="headerlink" href="#example-batch-job-script" title="Permanent link">&para;</a></h4>
<p>A shared cluster environment like Cheaha uses a job scheduler to run tasks on the cluster to provide optimal resource sharing among users. Cheaha uses a job scheduling system call Slurm to schedule and manage jobs. A user needs to tell Slurm about resource requirements (e.g. CPU, memory) so that it can schedule jobs effectively. These resource requirements along with actual application code can be specified in a single file commonly referred as 'Job Script/File'. Following is a simple job script that prints job number and hostname.</p>
<p><strong>Note:</strong>Jobs <strong>must request</strong> the appropriate partition (ex: <em>--partition=short</em>) to satisfy the jobs resource request (maximum runtime, number of compute nodes, etc...)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1">#</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1">#SBATCH --job-name=test</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1">#SBATCH --output=res.txt</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="c1">#SBATCH --time=10:00</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="c1">#SBATCH --mem-per-cpu=100</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="c1">#SBATCH --mail-type=FAIL</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="c1">#SBATCH --mail-user=YOUR_EMAIL_ADDRESS</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>srun hostname
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>srun sleep <span class="m">60</span>
</code></pre></div>
<p>Lines starting with '#SBATCH' have a special meaning in the Slurm world. Slurm specific configuration options are specified after the '#SBATCH' characters. Above configuration options are useful for most job scripts and for additional configuration options refer to Slurm commands manual. A job script is submitted to the cluster using Slurm specific commands. There are many commands available, but following three commands are the most common:</p>
<ul>
<li>sbatch - to submit job</li>
<li>scancel - to delete job</li>
<li>squeue - to view job status</li>
</ul>
<p>We can submit above job script using sbatch command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>$ sbatch HelloCheaha.sh
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>Submitted batch job <span class="m">52707</span>
</code></pre></div>
<p>When the job script is submitted, Slurm queues it up and assigns it a job number (e.g. 52707 in above example). The job number is available inside job script using environment variable $JOB_ID. This variable can be used inside job script to create job related directory structure or file names.</p>
<h3 id="interactive-resources">Interactive Resources<a class="headerlink" href="#interactive-resources" title="Permanent link">&para;</a></h3>
<p>Login Node (the host that you connected to when you setup the SSH connection to Cheaha) is supposed to be used for submitting jobs and/or lighter prep work required for the job scripts. <strong>Do not run heavy computations on the login node</strong>. If you have a heavier workload to prepare for a batch job (eg. compiling code or other manipulations of data) or your compute application requires interactive control, you should request a dedicated interactive node for this work.</p>
<p>Interactive resources are requested by submitting an "interactive" job to the scheduler. Interactive jobs will provide you a command line on a compute resource that you can use just like you would the command line on the login node. The difference is that the scheduler has dedicated the requested resources to your job and you can run your interactive commands without having to worry about impacting other users on the login node.</p>
<p>Interactive jobs, that can be run on command line, are requested with the <strong>srun</strong> command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>srun --ntasks<span class="o">=</span><span class="m">1</span> --cpus-per-task<span class="o">=</span><span class="m">4</span> --mem-per-cpu<span class="o">=</span><span class="m">4096</span> --time<span class="o">=</span><span class="m">08</span>:00:00 --partition<span class="o">=</span>medium --job-name<span class="o">=</span>JOB_NAME --pty /bin/bash
</code></pre></div>
<p>This command requests for 4 cores (--cpus-per-task) for a single task (--ntasks) with each cpu requesting size 4GB of RAM (--mem-per-cpu) for 8 hrs (--time).</p>
<p>More advanced interactive scenarios to support graphical applications are available using <a href="https://docs.uabgrid.uab.edu/wiki/Setting_Up_VNC_Session">VNC</a> or X11 tunneling <a href="http://www.uab.edu/it/software">X-Win32 2014 for Windows</a></p>
<p>Interactive jobs that requires running a graphical application, are requested with the <strong>sinteractive</strong> command, via <strong>Terminal</strong> on your VNC window.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>sinteractive --ntasks<span class="o">=</span><span class="m">1</span> --cpus-per-task<span class="o">=</span><span class="m">4</span> --mem-per-cpu<span class="o">=</span><span class="m">4096</span> --time<span class="o">=</span><span class="m">08</span>:00:00 --partition<span class="o">=</span>medium --job-name<span class="o">=</span>JOB_NAME
</code></pre></div>
<p>Please note, sinteractive starts your shell in a screen session. Screen is a terminal emulator that is designed to make it possible to detach and reattach a session. This feature can mostly be ignored. If you application uses <code>ctrl-a</code> as a special command sequence (e.g. Emacs), however, you may find the application doesn't receive this special character. When using screen, you need to type <code>ctrl-a a</code> (ctrl-a followed by a single "a" key press) to send a ctrl-a to your application. Screen uses ctrl-a as it's own command character, so this special sequence issues the command to screen to "send ctrl-a to my app". Learn more about <a href="https://www.gnu.org/software/screen/manual/html_node/Overview.html#Overview">screen from it's documentation</a>.</p>
<h2 id="storage">Storage<a class="headerlink" href="#storage" title="Permanent link">&para;</a></h2>
<h3 id="privacy">Privacy<a class="headerlink" href="#privacy" title="Permanent link">&para;</a></h3>
<p><strong>Do not store sensitive information on this filesystem. It is not encrypted.</strong> Note that your data will be stored on the cluster filesystem, and while not accessible to ordinary users, it could be accessible to the cluster administrator(s).</p>
<h3 id="file-and-directory-permissions">File and Directory Permissions<a class="headerlink" href="#file-and-directory-permissions" title="Permanent link">&para;</a></h3>
<p>The default permissions for all user data storage locations described below are as follows. In these descriptions, the "$USER" variable should be replaced with the user's account name string:</p>
<ul>
<li>/home/$USER - the owner ($USER) of the directory can read, write/delete, and list files. No other users or groups have permissions to this directory.</li>
<li>/data/user/$USER - the owner ($USER) of the directory can read, write/delete, and list files. No other users or groups have permissions to this directory.</li>
<li>/scratch/$USER - the owner ($USER) of the directory can read, write/delete, and list files. No other users or groups have permissions to this directory.</li>
<li>/data/projects/<projectname> - a PI can request project space for their lab or specific collaborations. The project directory is created with the PI/requestor as the user-owner and a dedicated collaboration group as the group-owner. The PI and all members of the dedicated collaboration group have can read, write/delete, and list files. No privileges are granted to other users of the system. Additional controls can be implemented via access control lists (ACLs). The PI/requestor can modify the ACLs to allow additional access to specific users.</li>
</ul>
<p>These permissions are the default configuration. While it is possible to modify these permissions or change the group owner of a file to any group to which a user belongs, users are encouraged to work within the default configuration and contact support@listserv.uab.edu if the default permissions are not adequate. Setting up a collaboration group and associated project directory can address most collaboration need while keep data access restricted to the minimum necessary users for the collaboration.</p>
<p>Additional background on Linux file system permissions can be found here:</p>
<ul>
<li><a href="https://its.unc.edu/research-computing/techdocs/how-to-use-unix-and-linux-file-permissions/">https://its.unc.edu/research-computing/techdocs/how-to-use-unix-and-linux-file-permissions/</a></li>
<li><a href="https://www.rc.fas.harvard.edu/resources/documentation/linux/unix-permissions/">https://www.rc.fas.harvard.edu/resources/documentation/linux/unix-permissions/</a></li>
<li><a href="https://hpc.nih.gov/storage/permissions.html">https://hpc.nih.gov/storage/permissions.html</a></li>
</ul>
<h3 id="no-automatic-backups">No Automatic Backups<a class="headerlink" href="#no-automatic-backups" title="Permanent link">&para;</a></h3>
<p>There is no automatic back up of any user data on the cluster in home, data, or scratch. At this time, all user data back up processes are defined and managed by each user and/or lab. Given that data backup demands vary widely between different users, groups, and research domains, this approach enables those who are most familiar with the data to make appropriate decisions based on their specific needs.</p>
<p>For example, if a group is working with a large shared data set that is a local copy of a data set maintained authoritatively at a national data bank, maintaining a local backup is unlikely to be a productive use of limited storage resources, since this data could potentially be restored from the authoritative source. If, however, you are maintaining a unique source of data of which yours is the only copy, then maintaining a backup is critical if you value that data set. It's worth noting that while this "uniqueness" criteria may not apply to the data you analyze, it may readily apply to the codes that define your analysis pipelines.</p>
<p>An often recommended backup policy is the 3-2-1 rule: maintain three copies of data, on two different media, with one copy off-site. You can <a href="https://www.backblaze.com/blog/the-3-2-1-backup-strategy/">read more about the 3-2-1 rule here</a>. In the case of your application codes, using revision control tools during development provides an easy way to maintain a second copy, makes for a good software development process, and can help achieve reproducible research goals.</p>
<p>Please review the <a href="https://www.uab.edu/it/home/data-storage">data storage options provided by UAB IT</a> for maintaining copies of your data. In choosing among these options, you should also <a href="https://www.uab.edu/it/home/data-classification">be aware of UAB's data classification rules and requirements for security requirements for sensitive and restricted</a> data storage. Given the importance of backup, Research Computing continues to explore options to facilitate data backup workflows from the cluster. Please <a href="mailto:support@listserv.uab.edu">contact us</a> if you have questions or would like to discuss specific data backup scenarios.</p>
<p>A good guide for thinking about your backup strategy might be: "If you aren't managing a data back up process, then you have no backup data."</p>
<h3 id="home-directories">Home directories<a class="headerlink" href="#home-directories" title="Permanent link">&para;</a></h3>
<p>Your home directory on Cheaha is NFS-mounted to the compute nodes as /home/$USER or $HOME. It is acceptable to use your home directory as a location to store job scripts and custom code. You are responsible for keeping your home directory under 10GB in size!</p>
<p><strong>The home directory must not be used to store large amounts of data.</strong> Please use $USER_SCRATCH for actively used data sets and $USER_DATA for storage of non scratch data.</p>
<h3 id="scratch">Scratch<a class="headerlink" href="#scratch" title="Permanent link">&para;</a></h3>
<p>Research Computing policy requires that all bulky input and output must be located on the scratch space. The home directory is intended to store your job scripts, log files, libraries and other supporting files.</p>
<p><strong>Important Information:</strong></p>
<ul>
<li>Scratch space (network and local) <strong>is not backed up</strong>.</li>
<li>Research Computing expects each user to keep their scratch areas clean. The cluster scratch area are not to be used for archiving data.</li>
</ul>
<p>Cheaha has two types of scratch space, network mounted and local.</p>
<ul>
<li>Network scratch ($USER_SCRATCH) is available on the login node and each compute node. This storage is a GPFS high performance file system providing roughly 4.7PB of usable storage. This should be your jobs primary working directory, unless the job would benefit from local scratch (see below).</li>
<li>Local scratch is physically located on each compute node and is not accessible to the other nodes (including the login node). This space is useful if the job performs a lot of file I/O. Most of the jobs that run on our clusters do not fall into this category. Because the local scratch is inaccessible outside the job, it is important to note that you must move any data between local scratch to your network accessible scratch within your job. For example, step 1 in the job could be to copy the input from $USER_SCRATCH to ${USER_SCRATCH}, step 2 code execution, step 3 move the data back to $USER_SCRATCH.</li>
</ul>
<h4 id="network-scratch">Network Scratch<a class="headerlink" href="#network-scratch" title="Permanent link">&para;</a></h4>
<p>Network scratch is available using the environment variable $USER_SCRATCH or directly by /data/scratch/$USER</p>
<p>It is advisable to use the environment variable whenever possible rather than the hard coded path.</p>
<h4 id="local-scratch">Local Scratch<a class="headerlink" href="#local-scratch" title="Permanent link">&para;</a></h4>
<p>Each compute node has a local scratch directory that is accessible via the variable <strong>$LOCAL_SCRATCH</strong>. If your job performs a lot of file I/O, the job should use $LOCAL_SCRATCH rather than $USER_SCRATCH to prevent bogging down the network scratch file system. The amount of scratch space available is approximately 800GB.</p>
<p>The $LOCAL_SCRATCH is a special temporary directory and it's important to note that this directory is deleted when the job completes, so the job script has to move the results to $USER_SCRATCH or other location prior to the job exiting.</p>
<p>Note that $LOCAL_SCRATCH is only useful for jobs in which all processes run on the same compute node, so MPI jobs are not candidates for this solution.</p>
<p>The following is an array job example that uses $LOCAL_SCRATCH by transferring the inputs into $LOCAL_SCRATCH at the beginning of the script and the result out of $LOCAL_SCRATCH at the end of the script.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1">#SBATCH --array=1-10</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="c1">#SBATCH --share</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="c1">#</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="c1"># Name your job to make it easier for you to track</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="c1">#</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="c1">#SBATCH --job-name=R_array_job</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="c1">#</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="c1"># Set your error and output files</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="c1">#</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="c1">#SBATCH --error=R_array_job.err</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="c1">#SBATCH --output=R_array_job.out</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="c1">#</span>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="c1"># Tell the scheduler only need 10 minutes and the appropriate partition</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="c1">#</span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="c1">#SBATCH --time=00:10:00</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="c1">#SBATCH --mem-per-cpu=256</span>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="c1">#</span>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="c1"># Set your email address and request notification when you job is complete or if it fails</span>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="c1">#</span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="c1">#SBATCH --mail-type=FAIL</span>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="c1">#SBATCH --mail-user=YOUR_EMAIL_ADDRESS</span>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>module load R/3.2.0-goolf-1.7.20
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="nb">echo</span> <span class="s2">&quot;TMPDIR: </span><span class="nv">$LOCAL_SCRATCH</span><span class="s2">&quot;</span>
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>
<a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="nb">cd</span> <span class="nv">$LOCAL_SCRATCH</span>
<a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a><span class="c1"># Create a working directory under the special scheduler local scratch directory</span>
<a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a><span class="c1"># using the array job&#39;s taskID</span>
<a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a>mdkir <span class="nv">$SLURM_ARRAY_TASK_ID</span>
<a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="nb">cd</span> <span class="nv">$SLURM_ARRAY_TASK_ID</span>
<a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a>
<a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a><span class="c1"># Next copy the input data to the local scratch</span>
<a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a><span class="nb">echo</span> <span class="s2">&quot;Copying input data from network scratch to </span><span class="nv">$LOCAL_SCRATCH</span><span class="s2">/</span><span class="nv">$SLURM_ARRAY_TASK_ID</span><span class="s2"> - </span><span class="k">$(</span>date<span class="k">)</span><span class="s2"></span>
<a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a><span class="s2"># The input data in this case has a numerical file extension that</span>
<a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a><span class="s2"># matches </span><span class="nv">$SLURM_ARRAY_TASK_ID</span><span class="s2"></span>
<a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a><span class="s2">cp -a </span><span class="nv">$USER_SCRATCH</span><span class="s2">/GeneData/INP*.</span><span class="nv">$SLURM_ARRAY_TASK_ID</span><span class="s2"> ./</span>
<a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a><span class="s2">echo &quot;</span>copied input data from network scratch to <span class="nv">$LOCAL_SCRATCH</span>/<span class="nv">$SLURM_ARRAY_TASK_ID</span> - <span class="k">$(</span>date<span class="k">)</span>
<a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a>
<a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a>someapp -S <span class="m">1</span> -D <span class="m">10</span> -i INP*.<span class="nv">$SLURM_ARRAY_TASK_ID</span> -o geneapp.out.<span class="nv">$SLURM_ARRAY_TASK_ID</span>
<a id="__codelineno-15-44" name="__codelineno-15-44" href="#__codelineno-15-44"></a>
<a id="__codelineno-15-45" name="__codelineno-15-45" href="#__codelineno-15-45"></a><span class="c1"># Lastly copy the results back to network scratch</span>
<a id="__codelineno-15-46" name="__codelineno-15-46" href="#__codelineno-15-46"></a><span class="nb">echo</span> <span class="s2">&quot;Copying results from local </span><span class="nv">$LOCAL_SCRATCH</span><span class="s2">/</span><span class="nv">$SLURM_ARRAY_TASK_ID</span><span class="s2"> to network - </span><span class="k">$(</span>date<span class="k">)</span><span class="s2"></span>
<a id="__codelineno-15-47" name="__codelineno-15-47" href="#__codelineno-15-47"></a><span class="s2">cp -a geneapp.out.</span><span class="nv">$SLURM_ARRAY_TASK_ID</span><span class="s2"> </span><span class="nv">$USER_SCRATCH</span><span class="s2">/GeneData/</span>
<a id="__codelineno-15-48" name="__codelineno-15-48" href="#__codelineno-15-48"></a><span class="s2">echo &quot;</span>Copied results from <span class="nb">local</span> <span class="nv">$LOCAL_SCRATCH</span>/<span class="nv">$SLURM_ARRAY_TASK_ID</span> to network - <span class="k">$(</span>date<span class="k">)</span>
</code></pre></div>
<h3 id="project-storage">Project Storage<a class="headerlink" href="#project-storage" title="Permanent link">&para;</a></h3>
<p>Cheaha has a location where shared data can be stored called $SHARE_PROJECT. As with user scratch, this area <strong>is not backed up</strong>!</p>
<p>This is helpful if a team of researchers must access the same data. Please open a help desk ticket to request a project directory under $SHARE_PROJECT.</p>
<h3 id="uploading-data">Uploading Data<a class="headerlink" href="#uploading-data" title="Permanent link">&para;</a></h3>
<p><strong>Do not store sensitive information on this filesystem. It is not encrypted.</strong> Note that your data will be stored on the cluster filesystem, and while not accessible to ordinary users, it could be accessible to the cluster administrator(s). Data can be moved onto the cluster (pushed) from a remote client (ie. you desktop) via SCP or SFTP. Data can also be downloaded to the cluster (pulled) by issuing transfer commands once you are logged into the cluster. Common transfer methods are <code>wget &lt;URL&gt;</code>, FTP, or SCP, and depend on how the data is made available from the data provider.</p>
<p>Large data sets should be staged directly to your $USER_SCRATCH directory so as not to fill up $HOME. If you are working on a data set shared with multiple users, it's preferable to request space in $SHARE_PROJECT rather than duplicating the data for each user.</p>
<h2 id="environment-modules">Environment Modules<a class="headerlink" href="#environment-modules" title="Permanent link">&para;</a></h2>
<p><a href="http://modules.sourceforge.net/">Environment Modules</a> is installed on Cheaha and should be used when constructing your job scripts if an applicable module file exists. Using the module command you can easily configure your environment for specific software packages without having to know the specific environment variables and values to set. Modules allows you to dynamically configure your environment without having to logout / login for the changes to take affect.</p>
<p>If you find that specific software does not have a module, please submit a <a href="http://etlab.eng.uab.edu/">helpdesk ticket</a> to request the module.</p>
<ul>
<li>Cheaha supports bash completion for the module command. For example, type 'module' and press the TAB key twice to see a list of options:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>module TAB TAB
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>add          display      initlist     keyword      refresh      switch       use          
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>apropos      <span class="nb">help</span>         initprepend  list         rm           unload       whatis       
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>avail        initadd      initrm       load         show         unuse        
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>clear        initclear    initswitch   purge        swap         update
</code></pre></div>
<ul>
<li>To see the list of available modulefiles on the cluster, run the <strong>module avail</strong> command (note the example list below may not be complete!) or <strong>module load</strong> followed by two tab key presses:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>module avail
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>----------------------------------------------------------------------------------------- /cm/shared/modulefiles -----------------------------------------------------------------------------------------
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>acml/gcc/64/5.3.1                    acml/open64-int64/mp/fma4/5.3.1      fftw2/openmpi/gcc/64/float/2.1.5     intel-cluster-runtime/ia32/3.8       netcdf/gcc/64/4.3.3.1
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>acml/gcc/fma4/5.3.1                  blacs/openmpi/gcc/64/1.1patch03      fftw2/openmpi/open64/64/double/2.1.5 intel-cluster-runtime/intel64/3.8    netcdf/open64/64/4.3.3.1
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>acml/gcc/mp/64/5.3.1                 blacs/openmpi/open64/64/1.1patch03   fftw2/openmpi/open64/64/float/2.1.5  intel-cluster-runtime/mic/3.8        netperf/2.7.0
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>acml/gcc/mp/fma4/5.3.1               blas/gcc/64/3.6.0                    fftw3/openmpi/gcc/64/3.3.4           intel-tbb-oss/ia32/44_20160526oss    open64/4.5.2.1
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>acml/gcc-int64/64/5.3.1              blas/open64/64/3.6.0                 fftw3/openmpi/open64/64/3.3.4        intel-tbb-oss/intel64/44_20160526oss openblas/dynamic/0.2.15
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>acml/gcc-int64/fma4/5.3.1            bonnie++/1.97.1                      gdb/7.9                              iozone/3_434                         openmpi/gcc/64/1.10.1
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>acml/gcc-int64/mp/64/5.3.1           cmgui/7.2                            globalarrays/openmpi/gcc/64/5.4      lapack/gcc/64/3.6.0                  openmpi/open64/64/1.10.1
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>acml/gcc-int64/mp/fma4/5.3.1         cuda75/blas/7.5.18                   globalarrays/openmpi/open64/64/5.4   lapack/open64/64/3.6.0               pbspro/13.0.2.153173
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>acml/open64/64/5.3.1                 cuda75/fft/7.5.18                    hdf5/1.6.10                          mpich/ge/gcc/64/3.2                  puppet/3.8.4
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>acml/open64/fma4/5.3.1               cuda75/gdk/352.79                    hdf5_18/1.8.16                       mpich/ge/open64/64/3.2               rc-base
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>acml/open64/mp/64/5.3.1              cuda75/nsight/7.5.18                 hpl/2.1                              mpiexec/0.84_432                     scalapack/mvapich2/gcc/64/2.0.2
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>acml/open64/mp/fma4/5.3.1            cuda75/profiler/7.5.18               hwloc/1.10.1                         mvapich/gcc/64/1.2rc1                scalapack/openmpi/gcc/64/2.0.2
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>acml/open64-int64/64/5.3.1           cuda75/toolkit/7.5.18                intel/compiler/32/15.0/2015.5.223    mvapich/open64/64/1.2rc1             sge/2011.11p1
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>acml/open64-int64/fma4/5.3.1         default-environment                  intel/compiler/64/15.0/2015.5.223    mvapich2/gcc/64/2.2b                 slurm/15.08.6
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>acml/open64-int64/mp/64/5.3.1        fftw2/openmpi/gcc/64/double/2.1.5    intel-cluster-checker/2.2.2          mvapich2/open64/64/2.2b              torque/6.0.0.1
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>---------------------------------------------------------------------------------------- /share/apps/modulefiles -----------------------------------------------------------------------------------------
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>rc/BrainSuite/15b                       rc/freesurfer/freesurfer-5.3.0          rc/intel/compiler/64/ps_2016/2016.0.047 rc/matlab/R2015a                        rc/SAS/v9.4
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>rc/cmg/2012.116.G                       rc/gromacs-intel/5.1.1                  rc/Mathematica/10.3                     rc/matlab/R2015b
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>rc/dsistudio/dsistudio-20151020         rc/gtool/0.7.5                          rc/matlab/R2012a                        rc/MRIConvert/2.0.8
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>--------------------------------------------------------------------------------------- /share/apps/rc/modules/all ---------------------------------------------------------------------------------------
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>AFNI/linux_openmp_64-goolf-1.7.20-20160616                gperf/3.0.4-intel-2016a                                   MVAPICH2/2.2b-GCC-4.9.3-2.25
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>Amber/14-intel-2016a-AmberTools-15-patchlevel-13-13       grep/2.15-goolf-1.4.10                                    NASM/2.11.06-goolf-1.7.20
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>annovar/2016Feb01-foss-2015b-Perl-5.22.1                  GROMACS/5.0.5-intel-2015b-hybrid                          NASM/2.11.08-foss-2015b
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>ant/1.9.6-Java-1.7.0_80                                   GSL/1.16-goolf-1.7.20                                     NASM/2.11.08-intel-2016a
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>APBS/1.4-linux-static-x86_64                              GSL/1.16-intel-2015b                                      NASM/2.12.02-foss-2016a
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>ASHS/rev103_20140612                                      GSL/2.1-foss-2015b                                        NASM/2.12.02-intel-2015b
<a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a>Aspera-Connect/3.6.1                                      gtool/0.7.5_linux_x86_64                                  NASM/2.12.02-intel-2016a
<a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a>ATLAS/3.10.1-gompi-1.5.12-LAPACK-3.4.2                    guile/1.8.8-GNU-4.9.3-2.25                                ncurses/5.9-foss-2015b
<a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a>Autoconf/2.69-foss-2016a                                  HAPGEN2/2.2.0                                             ncurses/5.9-GCC-4.8.4
<a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a>Autoconf/2.69-GCC-4.8.4                                   HarfBuzz/1.2.7-intel-2016a                                ncurses/5.9-GNU-4.9.3-2.25
<a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a>Autoconf/2.69-GNU-4.9.3-2.25                              HDF5/1.8.15-patch1-intel-2015b                            ncurses/5.9-goolf-1.4.10
<a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a> . 
<a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a> .
<a id="__codelineno-17-39" name="__codelineno-17-39" href="#__codelineno-17-39"></a> .
<a id="__codelineno-17-40" name="__codelineno-17-40" href="#__codelineno-17-40"></a> .
</code></pre></div>
<p>Some software packages have multiple module files, for example:</p>
<ul>
<li>GCC/4.7.2</li>
<li>GCC/4.8.1</li>
<li>GCC/4.8.2</li>
<li>GCC/4.8.4</li>
<li>GCC/4.9.2</li>
<li>GCC/4.9.3</li>
<li>GCC/4.9.3-2.25</li>
</ul>
<p>In this case, the GCC module will always load the latest version, so loading this module is equivalent to loading GCC/4.9.3-2.25. If you always want to use the latest version, use this approach. If you want use a specific version, use the module file containing the appropriate version number.</p>
<p>Some modules, when loaded, will actually load other modules. For example, the <em>GROMACS/5.0.5-intel-2015b-hybrid</em> module will also load <em>intel/2015b</em> and other related tools.</p>
<ul>
<li>To load a module, ex: for a GROMACS job, use the following <strong>module load</strong> command in your job script:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>module load  GROMACS/5.0.5-intel-2015b-hybrid 
</code></pre></div>
<ul>
<li>To see a list of the modules that you currently have loaded use the <strong>module list</strong> command</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>module list
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>Currently Loaded Modulefiles:
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>  <span class="m">1</span><span class="o">)</span> slurm/15.08.6                                       <span class="m">9</span><span class="o">)</span> impi/5.0.3.048-iccifort-2015.3.187-GNU-4.9.3-2.25  <span class="m">17</span><span class="o">)</span> Tcl/8.6.3-intel-2015b
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>  <span class="m">2</span><span class="o">)</span> rc-base                                            <span class="m">10</span><span class="o">)</span> iimpi/7.3.5-GNU-4.9.3-2.25                         <span class="m">18</span><span class="o">)</span> SQLite/3.8.8.1-intel-2015b
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>  <span class="m">3</span><span class="o">)</span> GCC/4.9.3-binutils-2.25                            <span class="m">11</span><span class="o">)</span> imkl/11.2.3.187-iimpi-7.3.5-GNU-4.9.3-2.25         <span class="m">19</span><span class="o">)</span> Tk/8.6.3-intel-2015b-no-X11
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>  <span class="m">4</span><span class="o">)</span> binutils/2.25-GCC-4.9.3-binutils-2.25              <span class="m">12</span><span class="o">)</span> intel/2015b                                        <span class="m">20</span><span class="o">)</span> Python/2.7.9-intel-2015b
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>  <span class="m">5</span><span class="o">)</span> GNU/4.9.3-2.25                                     <span class="m">13</span><span class="o">)</span> bzip2/1.0.6-intel-2015b                            <span class="m">21</span><span class="o">)</span> Boost/1.58.0-intel-2015b-Python-2.7.9
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>  <span class="m">6</span><span class="o">)</span> icc/2015.3.187-GNU-4.9.3-2.25                      <span class="m">14</span><span class="o">)</span> zlib/1.2.8-intel-2015b                             <span class="m">22</span><span class="o">)</span> GROMACS/5.0.5-intel-2015b-hybrid
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>  <span class="m">7</span><span class="o">)</span> ifort/2015.3.187-GNU-4.9.3-2.25                    <span class="m">15</span><span class="o">)</span> ncurses/5.9-intel-2015b
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>  <span class="m">8</span><span class="o">)</span> iccifort/2015.3.187-GNU-4.9.3-2.25                 <span class="m">16</span><span class="o">)</span> libreadline/6.3-intel-2015b
</code></pre></div>
<ul>
<li>A module can be removed from your environment by using the <strong>module unload</strong> command:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>module unload GROMACS/5.0.5-intel-2015b-hybrid
</code></pre></div>
<ul>
<li>The definition of a module can also be viewed using the <strong>module show</strong> command, revealing what a specific module will do to your environment:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>module show GROMACS/5.0.5-intel-2015b-hybrid 
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>-------------------------------------------------------------------
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>/share/apps/rc/modules/all/GROMACS/5.0.5-intel-2015b-hybrid:
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>module-whatis  GROMACS is a versatile package to perform molecular dynamics,
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a> i.e. simulate the Newtonian equations of motion <span class="k">for</span> systems with hundreds to millions of particles. - Homepage: http://www.gromacs.org 
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>conflict   GROMACS 
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>prepend-path   CPATH /share/apps/rc/software/GROMACS/5.0.5-intel-2015b-hybrid/include 
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>prepend-path   LD_LIBRARY_PATH /share/apps/rc/software/GROMACS/5.0.5-intel-2015b-hybrid/lib64 
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>prepend-path   LIBRARY_PATH /share/apps/rc/software/GROMACS/5.0.5-intel-2015b-hybrid/lib64 
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>prepend-path   MANPATH /share/apps/rc/software/GROMACS/5.0.5-intel-2015b-hybrid/share/man 
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>prepend-path   PATH /share/apps/rc/software/GROMACS/5.0.5-intel-2015b-hybrid/bin 
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>prepend-path   PKG_CONFIG_PATH /share/apps/rc/software/GROMACS/5.0.5-intel-2015b-hybrid/lib64/pkgconfig 
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>setenv     EBROOTGROMACS /share/apps/rc/software/GROMACS/5.0.5-intel-2015b-hybrid 
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>setenv     EBVERSIONGROMACS <span class="m">5</span>.0.5 
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>setenv     EBDEVELGROMACS /share/apps/rc/software/GROMACS/5.0.5-intel-2015b-hybrid/easybuild/GROMACS-5.0.5-intel-2015b-hybrid-easybuild-devel 
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>-------------------------------------------------------------------
</code></pre></div>
<h3 id="error-using-modules-from-a-job-script">Error Using Modules from a Job Script<a class="headerlink" href="#error-using-modules-from-a-job-script" title="Permanent link">&para;</a></h3>
<p>If you are using modules and the command your job executes runs fine from the command line but fails when you run it from the job, you may be having an issue with the script initialization. If you see this error in your job error output file</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>-bash: module: line <span class="m">1</span>: syntax error: unexpected end of file
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>-bash: error importing <span class="k">function</span> definition <span class="k">for</span> <span class="sb">`</span>BASH_FUNC_module<span class="err">&#39;</span>
</code></pre></div>
<p>Add the command <code>unset module</code> before calling your module files. The -V job argument will cause a conflict with the module function used in your script.</p>
<h2 id="sample-job-scripts">Sample Job Scripts<a class="headerlink" href="#sample-job-scripts" title="Permanent link">&para;</a></h2>
<p>The following are sample job scripts, please be careful to edit these for your environment (i.e. replace YOUR_EMAIL_ADDRESS with your real email address), set the h_rt to an appropriate runtime limit and modify the job name and any other parameters.</p>
<p><strong>Hello World</strong> is the classic example used throughout programming. We don't want to buck the system, so we'll use it as well to demonstrate jobs submission with one minor variation: our hello world will send us a greeting using the name of whatever machine it runs on. For example, when run on the Cheaha login node, it would print "Hello from login001".</p>
<h3 id="hello-world-serial">Hello World (serial)<a class="headerlink" href="#hello-world-serial" title="Permanent link">&para;</a></h3>
<p>A serial job is one that can run independently of other commands, ie. it doesn't depend on the data from other jobs running simultaneously. You can run many serial jobs in any order. This is a common solution to processing lots of data when each command works on a single piece of data. For example, running the same conversion on 100s of images.</p>
<p>Here we show how to create job script for one simple command. Running more than one command just requires submitting more jobs.</p>
<ul>
<li>
<p>Create your hello world application. Run this command to create a script, turn it into to a command, and run the command (just copy and past the following on to the command line).</p>
</li>
<li>
<p>Create the file:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>vim helloworld.sh
</code></pre></div>
<ol>
<li>Write into "helloworld.sh" file (To write in vim editor: press <strong>shift + I</strong> )</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="nb">echo</span> Hello from <span class="sb">`</span>hostname<span class="sb">`</span>
</code></pre></div>
<ol>
<li>Save the file by pressing the <strong>esc</strong> key, type the following</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>:wq
</code></pre></div>
<ol>
<li>Need to give permission the "helloworld.sh" file</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>chmod +x helloworld.sh
</code></pre></div>
<ul>
<li>
<p>Create the Slurm job script that will request 256 MB RAM and a maximum runtime of 10 minutes.</p>
</li>
<li>
<p>Create the JOB file:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>vim helloworld.job
</code></pre></div>
<ol>
<li>Write into "helloworld.job" file (To write in vim editor: press <strong>shift + I</strong> )</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="c1">#SBATCH --share</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1">#</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1"># Name your job to make it easier for you to track</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="c1">#</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="c1">#SBATCH --job-name=helloworld</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="c1">#</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="c1"># Set your error and output files</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="c1">#</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="c1">#SBATCH --error=helloworld.err</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="c1">#SBATCH --output=helloworld.out</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="c1">#</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="c1"># Tell the scheduler only need 10 minutes</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="c1">#</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="c1">#SBATCH --time=00:10:00</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="c1">#SBATCH --mem-per-cpu=256</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="c1">#</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="c1"># Set your email address and request notification when you job is complete or if it fails</span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="c1">#</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="c1">#SBATCH --mail-type=FAIL</span>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="c1">#SBATCH --mail-user=$USER@uab.edu</span>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>./helloworld.sh
</code></pre></div>
<ol>
<li>Save the file by pressing the <strong>esc</strong> key, type the following</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>:wq
</code></pre></div>
<ul>
<li>Submit the job to Slurm scheduler and check the status using squeue</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>$ sbatch helloworld.job
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>Submitted batch job <span class="m">52888</span>
</code></pre></div>
<ul>
<li>When the job completes, you should have output files named helloworld.out and helloworld.err</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>$ cat helloworld.out 
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>Hello from c0003
</code></pre></div>
<h3 id="hello-world-parallel-with-mpi">Hello World (parallel with MPI)<a class="headerlink" href="#hello-world-parallel-with-mpi" title="Permanent link">&para;</a></h3>
<p>MPI is used to coordinate the activity of many computations occurring in parallel. It is commonly used in simulation software for molecular dynamics, fluid dynamics, and similar domains where there is significant communication (data) exchanged between cooperating process.</p>
<p>Here is a simple parallel Slurm job script for running commands the rely on MPI. This example also includes the example of compiling the code and submitting the job script to the Slurm scheduler.</p>
<ul>
<li>First, create a directory for the Hello World jobs</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>mkdir -p ~/jobs/helloworld
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="nb">cd</span> ~/jobs/helloworld
</code></pre></div>
<ul>
<li>Create the Hello World code written in C (this example of MPI enabled Hello World includes a 3 minute sleep to ensure the job runs for several minutes, a normal hello world example would run in a matter of seconds).</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>$ vi helloworld-mpi.c
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="c1">#include &lt;stdio.h&gt;</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="c1">#include &lt;mpi.h&gt;</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>main<span class="o">(</span>int argc, char **argv<span class="o">)</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="o">{</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>   int rank, size<span class="p">;</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>   int i, j<span class="p">;</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>   float f<span class="p">;</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>   MPI_Init<span class="o">(</span><span class="p">&amp;</span>argc,<span class="p">&amp;</span>argv<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>   MPI_Comm_rank<span class="o">(</span>MPI_COMM_WORLD, <span class="p">&amp;</span>rank<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>   MPI_Comm_size<span class="o">(</span>MPI_COMM_WORLD, <span class="p">&amp;</span>size<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>   printf<span class="o">(</span><span class="s2">&quot;Hello World from process %d of %d.\n&quot;</span>, rank, size<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a>   sleep<span class="o">(</span><span class="m">180</span><span class="o">)</span><span class="p">;</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a>   <span class="k">for</span> <span class="o">(</span><span class="nv">j</span><span class="o">=</span><span class="m">0</span><span class="p">;</span> j&lt;<span class="o">=</span><span class="m">100000</span><span class="p">;</span> j++<span class="o">)</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a>      <span class="k">for</span><span class="o">(</span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span> i&lt;<span class="o">=</span><span class="m">100000</span><span class="p">;</span> i++<span class="o">)</span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a>          <span class="nv">f</span><span class="o">=</span>i*2.718281828*i+i+i*3.141592654<span class="p">;</span>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a>   MPI_Finalize<span class="o">()</span><span class="p">;</span>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="o">}</span>
</code></pre></div>
<ul>
<li>Compile the code, first purging any modules you may have loaded followed by loading the module for OpenMPI GNU. The mpicc command will compile the code and produce a binary named helloworld_gnu_openmpi</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>module purge
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>module load DefaultModules
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>module load OpenMPI/4.0.1-GCC-8.3.0-2.32
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>mpicc helloworld-mpi.c -o helloworld_gnu_openmpi
</code></pre></div>
<ul>
<li>Create the Slurm job script that will request 8 cpu slots and a maximum runtime of 10 minutes</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>$ vi helloworld.job
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="c1">#!/bin/bash</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="c1">#SBATCH --share</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="c1">#</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="c1"># Name your job to make it easier for you to track</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="c1">#</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="c1">#SBATCH --job-name=helloworld_mpi</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="c1">#</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="c1"># Set your error and output files</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="c1">#</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="c1">#SBATCH --error=helloworld_mpi.err</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="c1">#SBATCH --output=helloworld_mpi.out</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="c1">#SBATCH --ntasks=8</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="c1">#</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="c1"># Tell the scheduler only need 10 minutes</span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="c1">#</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="c1">#SBATCH --time=00:10:00</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="c1">#SBATCH --mem-per-cpu=256</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="c1">#</span>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="c1"># Set your email address and request notification when you job is complete or if it fails</span>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="c1">#</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="c1">#SBATCH --mail-type=FAIL</span>
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="c1">#SBATCH --mail-user=YOUR_EMAIL_ADDRESS</span>
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a>
<a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a>module load OpenMPI/1.8.8-GNU-4.9.3-2.25
<a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a>mpirun -np <span class="nv">$SLURM_NTASKS</span> helloworld_gnu_openmpi
</code></pre></div>
<ul>
<li>Submit the job to Slurm scheduler and check the status using squeue -u $USER</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>$ sbatch helloworld.job
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>Submitted batch job <span class="m">52893</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>$ squeue -u BLAZERID
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST<span class="o">(</span>REASON<span class="o">)</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>             <span class="m">52893</span>   express hellowor   BLAZERID  R       <span class="m">2</span>:07      <span class="m">2</span> c<span class="o">[</span><span class="m">0005</span>-0006<span class="o">]</span>
</code></pre></div>
<ul>
<li>When the job completes, you should have output files named helloworld_mpi.out and helloworld_mpi.err</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>$ cat helloworld_mpi.out
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>Hello World from process <span class="m">1</span> of <span class="m">8</span>.
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>Hello World from process <span class="m">3</span> of <span class="m">8</span>.
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>Hello World from process <span class="m">4</span> of <span class="m">8</span>.
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>Hello World from process <span class="m">7</span> of <span class="m">8</span>.
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>Hello World from process <span class="m">5</span> of <span class="m">8</span>.
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>Hello World from process <span class="m">6</span> of <span class="m">8</span>.
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>Hello World from process <span class="m">0</span> of <span class="m">8</span>.
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>Hello World from process <span class="m">2</span> of <span class="m">8</span>.
</code></pre></div>
<h3 id="hello-world-serial-revisited">Hello World (serial) -- revisited<a class="headerlink" href="#hello-world-serial-revisited" title="Permanent link">&para;</a></h3>
<p>The job submit scripts (sbatch scripts) are actually bash shell scripts in their own right. The reason for using the funky #SBATCH prefix in the scripts is so that bash interprets any such line as a comment and won't execute it. Because the # character starts a comment in bash, we can weave the Slurm scheduler directives (the #SBATCH lines) into standard bash scripts. This lets us build scripts that we can execute locally and then easily run the same script to on a cluster node by calling it with sbatch. This can be used to our advantage to create a more fluid experience in moving between development and production job runs.</p>
<p>The following example is a simple variation on the serial job above. All we will do is convert our Slurm job script into a command called helloworld that calls the helloworld.sh command.</p>
<p>If the first line of a file is #!/bin/bash and that file is executable, the shell will automatically run the command as if were any other system command, eg. ls. That is, the ".sh" extension on our HelloWorld.sh script is completely optional and is only meaningful to the user.</p>
<p>Copy the serial helloworld.job script to a new file, add a the special #!/bin/bash as the first line, and make it executable with the following command (note: those are single quotes in the echo command):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nb">echo</span> <span class="s1">&#39;#!/bin/bash&#39;</span> <span class="p">|</span> cat helloworld.job &gt; helloworld <span class="p">;</span> chmod +x helloworld
</code></pre></div>
<p>Our sbatch script has now become a regular command. We can now execute the command with the simple prefix "./helloworld", which means "execute this file in the current directory":</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>./helloworld
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>Hello from login001
</code></pre></div>
<p>Or if we want to run the command on a compute node, replace the "./" prefix with "sbatch ":</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>$ sbatch helloworld
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>Submitted batch job <span class="m">53001</span>
</code></pre></div>
<p>And when the cluster run is complete you can look at the content of the output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>$ $ cat helloworld.out 
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>Hello from c0003
</code></pre></div>
<p>You can use this approach of treating you sbatch files as command wrappers to build a collection of commands that can be executed locally or via sbatch. The other examples can be restructured similarly.</p>
<p>To avoid having to use the "./" prefix, just add the current directory to your PATH. Also, if you plan to do heavy development using this feature on the cluster, please be sure to run <a href="https://docs.uabgrid.uab.edu/wiki/Slurm#Interactive_Session">sinteractive</a> first so you don't load the login node with your development work.</p>
<h3 id="gromacs">Gromacs<a class="headerlink" href="#gromacs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="c1">#SBATCH --partition=short</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="c1">#</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="c1"># Name your job to make it easier for you to track</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="c1">#</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="c1">#SBATCH --job-name=test_gromacs</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="c1">#</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="c1"># Set your error and output files</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="c1">#</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="c1">#SBATCH --error=test_gromacs.err</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="c1">#SBATCH --output=test_gromacs.out</span>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="c1">#SBATCH --ntasks=8</span>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="c1">#</span>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="c1"># Tell the scheduler only need 10 minutes</span>
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="c1">#</span>
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="c1">#SBATCH --time=10:00:00</span>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a><span class="c1">#SBATCH --mem-per-cpu=2048</span>
<a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a><span class="c1">#</span>
<a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a><span class="c1"># Set your email address and request notification when you job is complete or if it fails</span>
<a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a><span class="c1">#</span>
<a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a><span class="c1">#SBATCH --mail-type=FAIL</span>
<a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a><span class="c1">#SBATCH --mail-user=YOUR_EMAIL_ADDRESS</span>
<a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a>
<a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a>module load OpenMPI/1.8.8-GNU-4.9.3-2.25
<a id="__codelineno-42-25" name="__codelineno-42-25" href="#__codelineno-42-25"></a>
<a id="__codelineno-42-26" name="__codelineno-42-26" href="#__codelineno-42-26"></a>module load GROMACS/5.0.5-intel-2015b-hybrid 
<a id="__codelineno-42-27" name="__codelineno-42-27" href="#__codelineno-42-27"></a>
<a id="__codelineno-42-28" name="__codelineno-42-28" href="#__codelineno-42-28"></a><span class="c1"># Change directory to the job working directory if not already there</span>
<a id="__codelineno-42-29" name="__codelineno-42-29" href="#__codelineno-42-29"></a><span class="nb">cd</span> <span class="si">${</span><span class="nv">USER_SCRATCH</span><span class="si">}</span>/jobs/gromacs
<a id="__codelineno-42-30" name="__codelineno-42-30" href="#__codelineno-42-30"></a>
<a id="__codelineno-42-31" name="__codelineno-42-31" href="#__codelineno-42-31"></a><span class="c1"># Single precision</span>
<a id="__codelineno-42-32" name="__codelineno-42-32" href="#__codelineno-42-32"></a><span class="nv">MDRUN</span><span class="o">=</span>mdrun_mpi
<a id="__codelineno-42-33" name="__codelineno-42-33" href="#__codelineno-42-33"></a>
<a id="__codelineno-42-34" name="__codelineno-42-34" href="#__codelineno-42-34"></a><span class="c1"># Enter your tpr file over here</span>
<a id="__codelineno-42-35" name="__codelineno-42-35" href="#__codelineno-42-35"></a><span class="nb">export</span> <span class="nv">MYFILE</span><span class="o">=</span>example.tpr
<a id="__codelineno-42-36" name="__codelineno-42-36" href="#__codelineno-42-36"></a>
<a id="__codelineno-42-37" name="__codelineno-42-37" href="#__codelineno-42-37"></a>mpirun -np SLURM_NTASKS <span class="nv">$MDRUN</span> -v -s <span class="nv">$MYFILE</span> -o <span class="nv">$MYFILE</span> -c <span class="nv">$MYFILE</span> -x <span class="nv">$MYFILE</span> -e <span class="nv">$MYFILE</span> -g <span class="si">${</span><span class="nv">MYFILE</span><span class="si">}</span>.log
</code></pre></div>
<h3 id="r-array-job">R (array job)<a class="headerlink" href="#r-array-job" title="Permanent link">&para;</a></h3>
<p>The following is an example job script that will use an array of 10 tasks (--array=1-10), each task has a max runtime of 2 hours and will use no more than 256 MB of RAM per task. Array's of tasks are useful when you have lots of simple jobs that work on their own separate files or a sub-set of the problem that can be selected by the array task index. For <a href="https://gitlab.rc.uab.edu/rc-training-sessions/Tutorial_parallelism">a more comprehensive introduction please see this tutorial</a>.</p>
<p>Create a working directory and the job submission script</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>$ mkdir -p ~/jobs/ArrayExample
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>$ <span class="nb">cd</span> ~/jobs/ArrayExample
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>$ vi R-example-array.job
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="c1">#!/bin/bash</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="c1">#SBATCH --array=1-10</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="c1">#SBATCH --share</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="c1">#</span>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="c1"># Name your job to make it easier for you to track</span>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="c1">#</span>
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="c1">#SBATCH --job-name=R_array_job</span>
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="c1">#</span>
<a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="c1"># Set your error and output files</span>
<a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="c1">#</span>
<a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="c1">#SBATCH --error=R_array_job.err</span>
<a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="c1">#SBATCH --output=R_array_job.out</span>
<a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a><span class="c1">#</span>
<a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a><span class="c1"># Tell the scheduler only need 10 minutes</span>
<a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="c1">#</span>
<a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="c1">#SBATCH --time=00:10:00</span>
<a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a><span class="c1">#SBATCH --mem-per-cpu=256</span>
<a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a><span class="c1">#</span>
<a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="c1"># Set your email address and request notification when you job is complete or if it fails</span>
<a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a><span class="c1">#</span>
<a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a><span class="c1">#SBATCH --mail-type=FAIL</span>
<a id="__codelineno-43-27" name="__codelineno-43-27" href="#__codelineno-43-27"></a><span class="c1">#SBATCH --mail-user=YOUR_EMAIL_ADDRESS</span>
<a id="__codelineno-43-28" name="__codelineno-43-28" href="#__codelineno-43-28"></a>
<a id="__codelineno-43-29" name="__codelineno-43-29" href="#__codelineno-43-29"></a>module load R/3.2.0-goolf-1.7.20 
<a id="__codelineno-43-30" name="__codelineno-43-30" href="#__codelineno-43-30"></a><span class="nb">cd</span> ~/jobs/ArrayExample/rep<span class="nv">$SLURM_ARRAY_TASK_ID</span>
<a id="__codelineno-43-31" name="__codelineno-43-31" href="#__codelineno-43-31"></a>srun R CMD BATCH rscript.R
</code></pre></div>
<p>Submit the job to the Slurm scheduler and check the status of the job using the squeue command</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>sbatch R-example-array.job
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>squeue -u <span class="nv">$USER</span>
</code></pre></div>
<h3 id="array-job-parameterization">Array Job Parameterization<a class="headerlink" href="#array-job-parameterization" title="Permanent link">&para;</a></h3>
<p>Suppose you need to submit thousands of jobs. While you could do this in a for loop, the global limit on jobs in the SLURM queue is 10,000. The limit is in place for performance reasons and the jobs may be rejected with the following error message and an incomplete set of tasks.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>sbatch: error: Slurm temporarily unable to accept job, sleeping and retrying
</code></pre></div>
<p>The preferred way to handle this scenario is to allow SLURM to schedule the jobs for you using the array flag in an sbatch script. This allows many jobs to be submitted as a single entry in the queue, letting SLURM handle the for loop and queueing. It is possible to reference the current loop index, or task id, as $SLURM_ARRAY_TASK_ID.</p>
<p>An example using $SLURM_ARRAY_TASK_ID to load input files and create output files is shown below. Suppose you have a short script called my_processing_script that needs to be run on 20,000 separate files. Suppose each instance only needs 1 cpu and 2 GB of RAM and finishes in 5 minutes. Submitting these files all at once won't work and at least half of them will be rejected by SLURM. Instead we can use the sbatch array flag. Note that some other useful flags have been omitted for brevity.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="ch">#! /bin/bash</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="c1">#SBATCH --cpus-per-task=1</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="c1">#SBATCH --mem-per-cpu=2G</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="c1">#SBATCH --array=1-20000%100</span>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="c1"># This will run tasks 1 through 20000, with up to 100 at a time.</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="c1"># It is possible to provide any comma-separated list of intervals.</span>
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="c1"># An example of a valid subset is --array=1,2,5-1000,3777,4995-5000%100</span>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="nv">INPUT_FILE</span><span class="o">=</span><span class="nv">$USER_DATA</span>/input/file_<span class="nv">$SLURM_ARRAY_TASK_ID</span>.txt
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="nv">$USER_DATA</span>/output/file_<span class="nv">$SLURM_ARRAY_TASK_ID</span>.txt
<a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a>
<a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a>my_processing_script --input<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$INPUT_FILE</span><span class="s2">&quot;</span> --output<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="gpu-job">GPU JOB<a class="headerlink" href="#gpu-job" title="Permanent link">&para;</a></h3>
<p>A Graphics processing unit (GPU) is a specialized electronic circuit designed to rapidly manipulate and alter memory to accelerate the creation of images in a frame buffer intended for output to a display device. Create a math.sh file as:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nv">$vim</span> math.sh
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="c1">#!/bin/bash</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="o">(</span><span class="nv">e</span><span class="o">=</span><span class="m">5</span><span class="o">)</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a> <span class="nb">echo</span> <span class="nv">$e</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a> <span class="o">((</span> <span class="nv">e</span> <span class="o">=</span> e + <span class="m">3</span> <span class="o">))</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a> <span class="nb">echo</span> <span class="nv">$e</span>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a> <span class="o">((</span> <span class="nv">e</span><span class="o">=</span>e+4 <span class="o">))</span>  <span class="c1"># -- spaces or no spaces, it doesn&#39;t matter</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a> <span class="nb">echo</span> <span class="nv">$e</span>
</code></pre></div>
<p>Give File permissions for script as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="nv">$chmod</span> +x math.sh
</code></pre></div>
<p>Create Job submission script file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nv">$vi</span> math.job
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="c1">#!/bin/bash</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="c1">#SBATCH --share</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="c1">#SBATCH --partition=pascalnodes</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="c1">#SBATCH --gres=gpu:1</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="c1"># Name your job to make it easier for you to track</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="c1">#</span>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="c1">#SBATCH --job-name=math</span>
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="c1">#</span>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="c1"># Set your error and output files</span>
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="c1">#</span>
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="c1">#SBATCH --error=math.err</span>
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a><span class="c1">#SBATCH --output=math.out</span>
<a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="c1">#</span>
<a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="c1"># Tell the scheduler only need 10 minutes</span>
<a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="c1">#</span>
<a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="c1">#SBATCH --time=00:10:00</span>
<a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a><span class="c1">#SBATCH --mem-per-cpu=256</span>
<a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a><span class="c1">#</span>
<a id="__codelineno-49-21" name="__codelineno-49-21" href="#__codelineno-49-21"></a><span class="c1"># Set your email address and request notification when you job is complete or if it fails</span>
<a id="__codelineno-49-22" name="__codelineno-49-22" href="#__codelineno-49-22"></a><span class="c1">#</span>
<a id="__codelineno-49-23" name="__codelineno-49-23" href="#__codelineno-49-23"></a><span class="c1">#SBATCH --mail-type=FAIL</span>
<a id="__codelineno-49-24" name="__codelineno-49-24" href="#__codelineno-49-24"></a><span class="c1">#SBATCH --mail-user=$USER@uab.edu</span>
<a id="__codelineno-49-25" name="__codelineno-49-25" href="#__codelineno-49-25"></a>./math.sh
</code></pre></div>
<p>Submitting batch script to Slurm scheduler</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="nv">$sbatch</span> math.job
</code></pre></div>
<p>We can also request GPU's on cluster as:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="nv">$sinteractive</span> --ntasks<span class="o">=</span><span class="m">1</span> --time<span class="o">=</span><span class="m">00</span>:10:00 --exclusive --partition<span class="o">=</span>pascalnodes -N2 --gres<span class="o">=</span>gpu:2
</code></pre></div>
<h3 id="gpu-job-with-mpi">GPU Job (with MPI)<a class="headerlink" href="#gpu-job-with-mpi" title="Permanent link">&para;</a></h3>
<p>As mentioned above, MPI is used to coordinate the activity of many computations occurring in parallel. It is commonly used in simulation software for molecular dynamics, fluid dynamics, and similar domains where there is significant communication (data) exchanged between cooperating process.</p>
<p>An example of an GPU job with MPI can be found by visiting <a href="https://gitlab.rc.uab.edu/wsmonroe/horovod-environment/blob/master/README.md">this link</a>.</p>
<p>Be sure to request the appropiate amount of gpu resources for your job:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>sinteractive --ntasks<span class="o">=</span><span class="m">8</span> --time<span class="o">=</span><span class="m">08</span>:00:00 --exclusive --partition<span class="o">=</span>pascalnodes -N2 --gres<span class="o">=</span>gpu:4
</code></pre></div>
<h3 id="singularity-container">Singularity Container<a class="headerlink" href="#singularity-container" title="Permanent link">&para;</a></h3>
<p>Singularity is designed so that you can use it within SLURM jobs and it does not violate security constraints on the cluster. Singularity was built keeping HPC in mind, i.e a shared environment. Using Singularity container with SLURM job script is very easy, as the containers run as a process on the host machine, just like any other command in a batch script. You just need to load Singularity in your job script and run the command via a singularity process. Here's an example job script below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="c1">#</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="c1">#SBATCH --job-name=test-singularity</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="c1">#SBATCH --output=res.out</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="c1">#SBATCH --error=res.err</span>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="c1">#</span>
<a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="c1"># Number of tasks needed for this job. Generally, used with MPI jobs</span>
<a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="c1">#</span>
<a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="c1"># Time format = HH:MM:SS, DD-HH:MM:SS</span>
<a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a><span class="c1">#SBATCH --time=10:00</span>
<a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="c1">#</span>
<a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a><span class="c1"># Number of CPUs allocated to each task. </span>
<a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a><span class="c1">#SBATCH --cpus-per-task=1</span>
<a id="__codelineno-53-16" name="__codelineno-53-16" href="#__codelineno-53-16"></a><span class="c1">#</span>
<a id="__codelineno-53-17" name="__codelineno-53-17" href="#__codelineno-53-17"></a><span class="c1"># Mimimum memory required per allocated  CPU  in  MegaBytes. </span>
<a id="__codelineno-53-18" name="__codelineno-53-18" href="#__codelineno-53-18"></a><span class="c1">#SBATCH --mem-per-cpu=100</span>
<a id="__codelineno-53-19" name="__codelineno-53-19" href="#__codelineno-53-19"></a><span class="c1">#</span>
<a id="__codelineno-53-20" name="__codelineno-53-20" href="#__codelineno-53-20"></a><span class="c1"># Send mail to the email address when the job fails</span>
<a id="__codelineno-53-21" name="__codelineno-53-21" href="#__codelineno-53-21"></a><span class="c1">#SBATCH --mail-type=FAIL</span>
<a id="__codelineno-53-22" name="__codelineno-53-22" href="#__codelineno-53-22"></a><span class="c1">#SBATCH --mail-user=$USER@uab.edu</span>
<a id="__codelineno-53-23" name="__codelineno-53-23" href="#__codelineno-53-23"></a>
<a id="__codelineno-53-24" name="__codelineno-53-24" href="#__codelineno-53-24"></a><span class="c1">#Set your environment here</span>
<a id="__codelineno-53-25" name="__codelineno-53-25" href="#__codelineno-53-25"></a>module load Singularity/2.5.2-GCC-5.4.0-2.26
<a id="__codelineno-53-26" name="__codelineno-53-26" href="#__codelineno-53-26"></a>
<a id="__codelineno-53-27" name="__codelineno-53-27" href="#__codelineno-53-27"></a><span class="c1">#Run your singularity or any other commands here</span>
<a id="__codelineno-53-28" name="__codelineno-53-28" href="#__codelineno-53-28"></a>singularity <span class="nb">exec</span> -B /data/user/<span class="nv">$USER</span> /data/user/<span class="nv">$USER</span>/rc-training-sessions/neurodebian-neurodebian-master-latest.simg dcm2nii PATH_TO_YOUR_DICOM_FILES
</code></pre></div>
<p>For <a href="https://gitlab.rc.uab.edu/rc-training-sessions/singularity_containers">a more comprehensive introduction please see this tutorial</a>.</p>
<h2 id="installed-software">Installed Software<a class="headerlink" href="#installed-software" title="Permanent link">&para;</a></h2>
<p>A partial list of installed software with additional instructions for their use is available on the <a href="/Cheaha_Software">Cheaha Software</a> page.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">February 24, 2022</span>
      
    
  </small>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021-2022 The University of Alabama at Birmingham.<br /><b>Still stuck after reading?</b> Email us at <a href="mailto:support@listserv.uab.edu" class="supportemail">support@listserv.uab.edu</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    

      <script src="../../assets/javascripts/bundle.1514a9a0.min.js"></script>
      
    
<script>
  var elements = document.getElementsByClassName("lightgallery");
  for (var i = 0; i < elements.length; i++) {
    lightGallery(elements[i]);
  }
</script>

  </body>
</html>